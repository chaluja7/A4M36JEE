<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:b="http://richfaces.org/sandbox/bootstrap" xmlns:f="http://java.sun.com/jsf/core">

<!-- metaparameters like view params -->
<ui:insert name="metadata"/>

<h:head>
    <h:outputStylesheet library="css" name="common.css"/>
    <h:outputScript library="javax.faces" name="jsf.js"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <title>Flight System</title>
</h:head>

<h:body>

    <b:navbar fixed="top" inverse="true">

        <f:facet name="brand">
            <h:link value="Flight System" outcome="home" styleClass="brand"/>

            <p class="navbar-text pull-right">
                <h:outputText value="Not logged in" rendered="#{empty request.remoteUser}"/>
                <h:outputText value="Logged in as #{request.remoteUser}" rendered="#{not empty request.remoteUser}"/>
            </p>

        </f:facet>

        <h:link value="Destinations" outcome="destinations" rendered="#{not empty request.remoteUser}"/>

        <h:link value="Flights" outcome="flights"/>

        <h:link value="Reservation" outcome="reservation"/>

        <h:link value="Login" outcome="login" rendered="#{empty request.remoteUser}"/>

        <h:link value="Logout" outcome="logout"
                rendered="#{not empty request.remoteUser or not empty reservationBean.reservation}"/>

    </b:navbar>

    <div class="container">

        <!-- page title -->
        <h1 class="hero-unit" style="padding: 30px 60px;"><ui:insert name="title"/></h1>

        <!-- content itself -->
        <ui:insert name="layout"/>

    </div>

</h:body>

</html>
